const options={threshold:.75},observer=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&(e=e.target.id,history.pushState("","","#"+e),history.replaceState("","","#"+e))})},options);document.querySelectorAll("section").forEach(e=>observer.observe(e)),window.addEventListener("hashchange",function(e){var o=window.location.hash;console.log("Hash changed to "+o),document.querySelector(o).scrollIntoView({behavior:"smooth",block:"start"})});
var myCurrentTime=Date.now();const selfState=document.getElementById("wanker");var selfStateCurr=selfState.value;function wankerRange(e){var t=e.target.value,a="selfstate"+selfStateCurr,e="selfstate"+t,a=document.getElementById(a),e=document.getElementById(e);a.classList.add("dn"),e.classList.remove("dn"),selfStateCurr=t}async function loadUpdates(){let e=await fetch("/things/data/megamix_v2.json");var t=await e.json();dataWordOnRepeat(t),dataLearningNow(t),dataPhoneStats(t),dataWeatherDeets(t),dataUnreadEmail(t),dataLastRead(t),dataYoutubeRepeat(t),dataWeeklyChart(t),dataLastWatched(t),lastUpdatedDate(t)}function lastUpdatedDate(e){var e=e.phoneTime,e="%c"+(e="Note to Selfâ€”\n\nThis was last manually updated on "+new Date(parseInt(e,10)).toString()+".\n\nBest regards,\nSelf\n\n");console.log(e,"background: green; border-left: 24px solid slateblue; color: white; display: block;")}function dataWordOnRepeat(e){e=e.wordOnRepeat;document.getElementById("word-on-repeat").textContent=e}function dataLearningNow(e){var t=e.learningNow,a=e.learningNowURL,e=e.learningNowClass;document.getElementById("learning-now").innerHTML=t;t=document.getElementById("learning-now").getElementsByTagName("a")[0];t.setAttribute("href",a),t.setAttribute("class",e)}function dataPhoneStats(e){var t=e.phoneTime;Math.ceil((myCurrentTime-t)/1e3/60)<240&&(t=document.getElementById("phone-batt"),e=e.phoneBatt,t.textContent="on "+e+"% battery")}function dataUnreadEmail(e){e=e.phoneEmail;document.getElementById("unread-email").textContent=e}function dataYoutubeRepeat(e){var t=e.musicOnRepeatName,a=e.musicOnRepeatURL,n=document.getElementById("youtube-repeat");n.href="https://www.youtube.com/watch?v="+a,n.innerHTML=t;t=e.musicOnRepeatBGopacity,a="linear-gradient(45deg, rgba(8, 8, 8,"+t+"), rgba(16, 16, 16,"+t+")),url("+("https://img.youtube.com/vi/"+a+"/maxresdefault.jpg")+") no-repeat top 5% left 10%";document.getElementById("now").style.background=a;e=e.musicOnRepeatBGsize;document.getElementById("now").style.backgroundSize=e}function dataWeatherDeets(e){var t=e.weather_data[0].temp;document.getElementById("weather-temp").textContent=t;var a=e.weather_data[0].app_temp;document.getElementById("weather-realfeel").textContent=Math.ceil(a),4<a-t&&(document.getElementById("weather-feelslike").textContent="Ugh!");a=e.weather_data[0].city_name,t=document.getElementById("weather-city");t.textContent=a,t.href="https://wikipedia.org/wiki/"+a.replace(" ","_");t=e.weather_data[0].weather.code,a=e.weather_data[0].weather.description,e=document.getElementById("weather-description"),a=a.toLowerCase();myWeatherCodeNum=parseInt(t,10),a=myWeatherCodeNum<=302?"A "+a:(myWeatherDesc2=a[0].toUpperCase()+a.slice(1),myWeatherDesc2),e.textContent=a}function dataLastRead(e){var t=document.getElementById("book-title"),a=document.getElementById("book-author"),n=document.getElementById("book-cover"),r=document.getElementById("reading"),o=e.lastReadTitle,d=e.lastReadAuthor,l=e.lastReadURL,e=e.lastReadCover;t.textContent=o,a.textContent=d,t.href=l,n.src=e,n.alt="Cover of "+o+" by "+d,r.style.backgroundImage="linear-gradient(65deg, rgba(11, 1, 11, 0.85) 15%, rgba(11, 11, 11, 0.85) 85%), url("+e+")"}function dataLastWatched(e){var t=document.getElementById("teevee"),a=e.tvOnRepeatName,e=e.tvOnRepeatURL;t.textContent=a,t.href=e}function dataWeeklyChart(e){for(var t=e.weeklyalbumchart,a=0;a<t.length;a++){var n=t[a].link,r="/things/data/"+t[a].albumartTypeTwo,o="/things/data/"+t[a].albumartTypeTwo2x,d=t[a].artist,l=t[a].album,m="album0"+(a+1).toString(),m=document.getElementById(m);m.href=n;n=m.getElementsByTagName("img")[0];n.src=r,n.alt="Cover art for "+l+" by "+d,n.srcset=r+" 1x, "+o+" 2x",m.getElementsByTagName("dd")[0].textContent=l,m.getElementsByTagName("dd")[1].textContent=d,m.style.opacity=100}}function dataCurrentMusic(e){for(var t=e.musicCurrent,a=0;a<t.length;a++){var n=t[a].albumURL,r=t[a].albumArt,o=t[a].musicArtist,d=t[a].musicAlbum,l="album0"+(a+1).toString(),l=document.getElementById(l);l.href=n;n=l.getElementsByTagName("img")[0];n.src=r,n.alt="Cover art for "+d+" by "+o,l.getElementsByTagName("dd")[0].textContent=d,l.getElementsByTagName("dd")[1].textContent=o}}selfState.addEventListener("change",wankerRange),loadUpdates();
!function(d,l){function i(e,t,o,n,i,r,a){var c="https://www.google-analytics.com/collect",r=function(e){var t,o=[];for(t in e)e.hasOwnProperty(t)&&void 0!==e[t]&&o.push(v(t)+"="+v(e[t]));return o.join("&")}({v:"1",ds:"web",aip:l.anonymizeIp?1:void 0,tid:"UA-4783746-7",cid:(p.cid||(p.cid=h()),p.cid),t:e||"pageview",sd:l.colorDepth&&screen.colorDepth?screen.colorDepth+"-bits":void 0,dr:s.referrer||void 0,dt:s.title,dl:s.location.origin+s.location.pathname+s.location.search,ul:l.language?(u.language||"").toLowerCase():void 0,de:l.characterSet?s.characterSet:void 0,sr:l.screenSize?(d.screen||{}).width+"x"+(d.screen||{}).height:void 0,vp:l.screenSize&&d.visualViewport?(d.visualViewport||{}).width+"x"+(d.visualViewport||{}).height:void 0,ec:t||void 0,ea:o||void 0,el:n||void 0,ev:i||void 0,exd:r||void 0,exf:void 0!==a&&0==!!a?0:void 0});u.sendBeacon?u.sendBeacon(c,r):((a=new XMLHttpRequest).open("POST",c,!0),a.send(r))}var t=d.history,s=document,u=navigator||{},p=localStorage,v=encodeURIComponent,o=t.pushState,h=function(){return Math.random().toString(36)};t.pushState=function(e){return"function"==typeof t.onpushstate&&t.onpushstate({state:e}),setTimeout(i,l.delay||10),o.apply(t,arguments)},i(),d.ma={trackEvent:function(e,t,o,n){return i("event",e,t,o,n)},trackException:function(e,t){return i("exception",null,null,null,null,e,t)}}}(window,{anonymizeIp:!0,colorDepth:!0,characterSet:!0,screenSize:!0,language:!0});
var el=document.getElementById("hinthinthint");el.onclick=function(){alert("Scrolling burns more calories than clicking. Try it today!")};